(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{57:function(t,e,r){"use strict";r.r(e);var n=r(1),i=r.n(n);function a(t){if(null==t)throw new TypeError("Cannot destructure undefined")}function o(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(t){o(a,n,i,s,u,"next",t)}function u(t){o(a,n,i,s,u,"throw",t)}s(void 0)}))}}var u={namespaced:!0,state:{check:{},uiks:[],uikList:[],regionList:[],boxTypeList:[],violationTypeList:[],violationStatusList:[],violations:[],violationsForEventTable:[],violationsGroupByName:[],uikMap:{}},actions:{showViolations:function(t,e){var r=this;return s(i.a.mark((function n(){var a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.commit,e.check,e.statuses,n.next=4,axios.get(r.state.requestPath+"/checks/violations",{params:e}).catch((function(t){return console.log("In ViewCheck/showViolations - "+t)}));case 4:if((o=n.sent).data.errors){n.next=10;break}return a("setViolationsForEventTable",o.data),n.abrupt("return",o.data);case 10:return n.abrupt("return",{errors:Object.values(o.data.errors).map((function(t){return t[0]}))});case 11:case"end":return n.stop()}}),n)})))()},editCheck:function(t,e){var r=this;return s(i.a.mark((function n(){var a,o,s,u;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.commit,o=e.id,s=e.active,n.next=4,axios.put(r.state.requestPath+"/checks/".concat(o),{active:s}).catch((function(t){return console.log("In ViewCheck/editCheck - "+t)}));case 4:if((u=n.sent).data.errors){n.next=10;break}return a("setCheck",u.data),n.abrupt("return",u.data);case 10:return n.abrupt("return",{errors:Object.values(u.data.errors).map((function(t){return t[0]}))});case 11:case"end":return n.stop()}}),n)})))()},updateUiks:function(t,e){var r=this;return s(i.a.mark((function n(){var o,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.commit,a(e),n.next=4,axios.post(r.state.requestPath+"/checks/filter-uiks",e).catch((function(t){return console.log("In ViewCheck/updateUiks - "+t)}));case 4:if((s=n.sent).data.errors){n.next=10;break}return o("setUiks",s.data),n.abrupt("return",s.data);case 10:return n.abrupt("return",{errors:Object.values(s.data.errors).map((function(t){return t[0]}))});case 11:case"end":return n.stop()}}),n)})))()},deleteCheck:function(t,e){var r=this;return s(i.a.mark((function n(){var a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,a=e.id,n.next=4,axios.delete(r.state.requestPath+"/checks/"+a).catch((function(t){return console.log("In ViewCheck/updateViolations - "+t)}));case 4:if((o=n.sent).data.errors){n.next=9;break}return n.abrupt("return",o.data);case 9:return n.abrupt("return",{errors:Object.values(o.data.errors).map((function(t){return t[0]}))});case 10:case"end":return n.stop()}}),n)})))()},uploadUik:function(t,e){return s(i.a.mark((function r(){var n,a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(a in t.commit,n=new FormData,e)e.hasOwnProperty(a)&&n.append(a,e[a]);return r.next=5,axios.post("/checks/upload-uik",n).catch((function(t){return console.log("In ViewCheck/uploadUik - "+t)}));case 5:if((o=r.sent).data.errors){r.next=10;break}return r.abrupt("return",o.data);case 10:return r.abrupt("return",{errors:Object.values(o.data.errors).map((function(t){return t[0]}))});case 11:case"end":return r.stop()}}),r)})))()},reviewUik:function(t,e){var r=this;return s(i.a.mark((function n(){var a,o,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,a=e.check_id,o=e.uiks,n.next=4,axios.post(r.state.requestPath+"/checks/review-uik",{check_id:a,uiks:o}).catch((function(t){return console.log("In ViewCheck/reviewUik - "+t)}));case 4:if((s=n.sent).data.errors){n.next=9;break}return n.abrupt("return",s.data);case 9:return n.abrupt("return",{errors:Object.values(s.data.errors).map((function(t){return t[0]}))});case 10:case"end":return n.stop()}}),n)})))()},uploadOfficialVote:function(t,e){return s(i.a.mark((function r(){var n,a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(a in t.commit,n=new FormData,e)e.hasOwnProperty(a)&&n.append(a,e[a]);return r.next=5,axios.post("/checks/upload-official-vote",n).catch((function(t){return console.log("In ViewCheck/uploadUik - "+t)}));case 5:if((o=r.sent).data.errors){r.next=10;break}return r.abrupt("return",o.data);case 10:return r.abrupt("return",{errors:Object.values(o.data.errors).map((function(t){return t[0]}))});case 11:case"end":return r.stop()}}),r)})))()},compareTurnout:function(t,e){var r=this;return s(i.a.mark((function n(){var a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,a=e.check_id,n.next=4,axios.post(r.state.requestPath+"/checks/compare-turnout",{check_id:a}).catch((function(t){return console.log("In ViewCheck/reviewUik - "+t)}));case 4:if((o=n.sent).data.errors){n.next=9;break}return n.abrupt("return",o.data);case 9:return n.abrupt("return",{errors:Object.values(o.data.errors).map((function(t){return t[0]}))});case 10:case"end":return n.stop()}}),n)})))()},uploadIntermediateVote:function(t,e){return s(i.a.mark((function r(){var n,a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(a in t.commit,n=new FormData,e)e.hasOwnProperty(a)&&n.append(a,e[a]);return r.next=5,axios.post("/checks/upload-intermediate-vote",n).catch((function(t){return console.log("In ViewCheck/uploadIntermediateVote - "+t)}));case 5:if((o=r.sent).data.errors){r.next=10;break}return r.abrupt("return",o.data);case 10:return r.abrupt("return",{errors:Object.values(o.data.errors).map((function(t){return t[0]}))});case 11:case"end":return r.stop()}}),r)})))()},compareIntermediateTurnout:function(t,e){var r=this;return s(i.a.mark((function n(){var a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,a=e.check_id,n.next=4,axios.post(r.state.requestPath+"/checks/compare-intermediate-turnout",{check_id:a}).catch((function(t){return console.log("In ViewCheck/reviewUik - "+t)}));case 4:if((o=n.sent).data.errors){n.next=9;break}return n.abrupt("return",o.data);case 9:return n.abrupt("return",{errors:Object.values(o.data.errors).map((function(t){return t[0]}))});case 10:case"end":return n.stop()}}),n)})))()},countingUik:function(t,e){var r=this;return s(i.a.mark((function n(){var a,o,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,a=e.check_id,o=e.uiks,n.next=4,axios.post(r.state.requestPath+"/checks/counting-uik",{check_id:a,uiks:o}).catch((function(t){return console.log("In ViewCheck/countingUik - "+t)}));case 4:if((s=n.sent).data.errors){n.next=9;break}return n.abrupt("return",s.data);case 9:return n.abrupt("return",{errors:Object.values(s.data.errors).map((function(t){return t[0]}))});case 10:case"end":return n.stop()}}),n)})))()}},mutations:{setCheck:function(t,e){return t.check=e},setUiks:function(t,e){return t.uiks=e},setUikList:function(t,e){return t.uikList=e},setRegionList:function(t,e){return t.regionList=e},setBoxTypeList:function(t,e){return t.boxTypeList=e},setViolationTypeList:function(t,e){return t.violationTypeList=e},setViolationsForEventTable:function(t,e){return t.violationsForEventTable=e},setViolationStatusList:function(t,e){return t.violationStatusList=e},setViolations:function(t,e){return t.violations=e},setViolationsGroupByName:function(t,e){return t.violationsGroupByName=e},setUikMap:function(t,e){return t.uikMap=e}},getters:{getCheck:function(t){return t.check},getUiks:function(t){return t.uiks},getUikList:function(t){return t.uikList},getRegionList:function(t){return t.regionList},getBoxTypeList:function(t){return t.boxTypeList},getViolationTypeList:function(t){return t.violationTypeList},getViolationsForEventTable:function(t){return t.violationsForEventTable},getViolationStatusList:function(t){return t.violationStatusList},getViolations:function(t){return t.violations},getViolationsGroupByName:function(t){return t.violationsGroupByName},getUikMap:function(t){return t.uikMap}}},c={props:{initialData:{type:Object,required:!0},routeName:{type:String,required:!0}},data:function(){return{}},computed:{computedBreadcrumbs:function(){return[{name:"Главная",slug:"/"},{name:"Список проверок",slug:"checks"},{name:this.initialData.check.check_name,slug:""}]}},created:function(){this.$store.registerModule("ViewCheck",u),this.$store.commit("ViewCheck/setCheck",this.initialData.check),this.$store.commit("ViewCheck/setUiks",this.initialData.uiks),this.$store.commit("ViewCheck/setViolationsForEventTable",this.initialData.violationsForEventTable),this.$store.commit("ViewCheck/setUikList",this.initialData.filterList.uikList),this.$store.commit("ViewCheck/setRegionList",this.initialData.filterList.regionList),this.$store.commit("ViewCheck/setBoxTypeList",this.initialData.filterList.boxTypeList),this.$store.commit("ViewCheck/setViolationTypeList",this.initialData.filterList.violationTypeList),this.$store.commit("ViewCheck/setViolationStatusList",this.initialData.filterList.violationStatusList),this.$store.commit("ViewCheck/setViolations",this.initialData.violations),this.$store.commit("ViewCheck/setViolationsGroupByName",this.initialData.violationsGroupByName)},beforeDestroy:function(){this.$store.unregisterModule("ViewCheck"),this.$store.unregisterModule("Tip")}},p=r(0),l=Object(p.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view-layout",{attrs:{breadcrumbs:t.computedBreadcrumbs,"route-name":t.routeName},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.initialData.check.check_name))]},proxy:!0},{key:"tip",fn:function(){return[r("check-info"),t._v(" "),r("check-settings",{staticClass:"ml-2"})]},proxy:!0}])},[t._v(" "),t._v(" "),r("div",{staticClass:"layout__container"},[r("card",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Прогресс работы Ревизора")]},proxy:!0}])},[t._v(" "),r("check-schema")],1),t._v(" "),r("card",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Участковые избирательные комиссии")]},proxy:!0}])},[t._v(" "),r("check-uik")],1),t._v(" "),r("card",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("События")]},proxy:!0}])},[t._v(" "),r("check-events")],1)],1)])}),[],!1,null,null,null);e.default=l.exports}}]);
//# sourceMappingURL=38.chunk.js.map