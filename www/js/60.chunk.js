(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{62:function(e,t,r){"use strict";r.r(t);var s=r(2),n=r.n(s),i=r(9),a=r.n(i);function u(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function o(e,t,r,s,n,i,a){try{var u=e[i](a),o=u.value}catch(e){return void r(e)}u.done?t(o):Promise.resolve(o).then(s,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var i=e.apply(t,r);function a(e){o(i,s,n,a,u,"next",e)}function u(e){o(i,s,n,a,u,"throw",e)}a(void 0)}))}}var f={namespaced:!0,state:{user:{},userList:[],roleList:[],permissionList:[],checkList:[]},actions:{createUser:function(e,t){var r=this;return c(n.a.mark((function s(){var i,o;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=e.commit,u(t),s.next=4,a.a.post(r.state.requestPath+"/users",t).catch((function(e){return console.log("In ViewUser/createUser - "+e)}));case 4:if((o=s.sent).data.errors){s.next=10;break}return i("setUserList",o.data.userList),s.abrupt("return",o.data.path);case 10:return s.abrupt("return",{errors:Object.values(o.data.errors).map((function(e){return e[0]}))});case 11:case"end":return s.stop()}}),s)})))()},updateUser:function(e,t){var r=this;return c(n.a.mark((function s(){var i,u,o;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=e.commit,u=t.id,s.next=4,a.a.get(r.state.requestPath+"/users/"+u).catch((function(e){return console.log("In ViewUser/updateUser - "+e)}));case 4:if((o=s.sent).data.errors){s.next=10;break}return i("setUser",o.data),s.abrupt("return",o.data);case 10:return s.abrupt("return",{errors:Object.values(o.data.errors).map((function(e){return e[0]}))});case 11:case"end":return s.stop()}}),s)})))()},editUser:function(e,t){var r=this;return c(n.a.mark((function s(){var i,u,o;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=e.commit,u=t.id,s.next=4,a.a.put(r.state.requestPath+"/users/"+u,t).catch((function(e){return console.log("In ViewUser/editUser - "+e)}));case 4:if((o=s.sent).data.errors){s.next=10;break}return i("setUserList",o.data),s.abrupt("return",o.data);case 10:return s.abrupt("return",{errors:Object.values(o.data.errors).map((function(e){return e[0]}))});case 11:case"end":return s.stop()}}),s)})))()},deleteUser:function(e,t){var r=this;return c(n.a.mark((function s(){var i,u,o;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=e.commit,u=t.id,s.next=4,a.a.delete(r.state.requestPath+"/users",{data:{user:u}}).catch((function(e){return console.log("In ViewUser/deleteUser - "+e)}));case 4:if((o=s.sent).data.errors){s.next=10;break}return i("setUserList",o.data),s.abrupt("return",o.data);case 10:return s.abrupt("return",{errors:Object.values(o.data.errors).map((function(e){return e[0]}))});case 11:case"end":return s.stop()}}),s)})))()}},mutations:{setUserList:function(e,t){return e.userList=t},setRoleList:function(e,t){return e.roleList=t},setPermissionList:function(e,t){return e.permissionList=t},setCheckList:function(e,t){return e.checkList=t},setUser:function(e,t){return e.user=t}},getters:{getUserList:function(e){return e.userList},getRoleList:function(e){return e.roleList},getPermissionList:function(e){return e.permissionList},getCheckList:function(e){return e.checkList},getUser:function(e){return e.user}}},d={components:{},props:{initialData:{type:Object,required:!0},routeName:{type:String,required:!0}},data:function(){return{}},computed:{computedBreadcrumbs:function(){return[{name:"Главная",slug:"/"},{name:"Пользователи",slug:""}]}},created:function(){this.$store.registerModule("ViewUser",f),this.$store.commit("ViewUser/setUserList",this.initialData.userList),this.$store.commit("ViewUser/setRoleList",this.initialData.roleList),this.$store.commit("ViewUser/setPermissionList",this.initialData.permissionList),this.$store.commit("ViewUser/setCheckList",this.initialData.checkList)},beforeDestroy:function(){this.$store.unregisterModule("ViewUser")}},p=r(0),l=Object(p.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("view-layout",{attrs:{breadcrumbs:e.computedBreadcrumbs,"route-name":e.routeName},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Пользователи")]},proxy:!0}])},[e._v(" "),r("user-list")],1)}),[],!1,null,null,null);t.default=l.exports}}]);
//# sourceMappingURL=60.chunk.js.map