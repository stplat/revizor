(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{58:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),i=n(6),a=n.n(i);function c(t){if(null==t)throw new TypeError("Cannot destructure undefined")}function s(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}var g={namespaced:!0,state:{uikList:[],regionList:[],countSelectCamera:null,countCheckBoxes:null,uikListBySelectCamera:[],recognitionListByCheckBoxes:[],isLoading:!1,recognitionIds:[]},actions:{showReport:function(t,e){var n=this;return u(o.a.mark((function r(){var i,s,u;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.commit,s=t.getters,c(e),e.recognitionIds=s.getRecognitionIds,r.next=5,a.a.get(n.state.requestPath+"recognitions/report",{params:e}).catch((function(t){return console.log("In ViewRecognition/showReport - "+t)}));case 5:if((u=r.sent).data.errors){r.next=20;break}r.t0=e.type,r.next="1"===r.t0?10:"2"===r.t0?13:16;break;case 10:return i("setUikListBySelectCamera",u.data.report),i("setCountSelectCamera",u.data.count),r.abrupt("break",16);case 13:return i("setRecognitionListByCheckBoxes",u.data.report),i("setCountCheckBoxes",u.data.count),r.abrupt("break",16);case 16:return i("setRecognitionIds",u.data.recognitionIds),r.abrupt("return",u.data.report);case 20:return r.abrupt("return",{errors:Object.values(u.data.errors).map((function(t){return t[0]}))});case 21:case"end":return r.stop()}}),r)})))()},updateBox:function(t,e){var n=this;return u(o.a.mark((function r(){var i,c,s,u;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.commit,c=t.getters,e.current,s=e.params,e.recognitionIds=c.getRecognitionIds,r.next=5,a.a.put(n.state.requestPath+"recognitions/box",e).catch((function(t){return console.log("In ViewRecognition/updateBox - "+t)}));case 5:if((u=r.sent).data.errors){r.next=20;break}r.t0=s.type,r.next="1"===r.t0?10:"2"===r.t0?13:16;break;case 10:return i("setUikListBySelectCamera",u.data.report),i("setCountSelectCamera",u.data.count),r.abrupt("break",16);case 13:return i("setRecognitionListByCheckBoxes",u.data.report),i("setCountCheckBoxes",u.data.count),r.abrupt("break",16);case 16:return i("setRecognitionIds",u.data.recognitionIds),r.abrupt("return",u.data.report);case 20:return r.abrupt("return",{errors:Object.values(u.data.errors).map((function(t){return t[0]}))});case 21:case"end":return r.stop()}}),r)})))()},showPrevRecognition:function(t,e){var n=this;return u(o.a.mark((function r(){var i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.commit,c(e),r.next=4,a.a.get(n.state.requestPath+"recognitions/recognition/prev",{params:e}).catch((function(t){return console.log("In ViewRecognition/showPrevRecognition - "+t)}));case 4:if((i=r.sent).data.errors){r.next=9;break}return r.abrupt("return",i.data);case 9:return r.abrupt("return",{errors:Object.values(i.data.errors).map((function(t){return t[0]}))});case 10:case"end":return r.stop()}}),r)})))()},updateCheckingRecognition:function(t){var e=this;return u(o.a.mark((function n(){var r,i,c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.commit,i=t.getters,(c={}).recognitions=i.getRecognitionIds,!i.getRecognitionIds.length){n.next=14;break}return n.next=6,a.a.put(e.state.requestPath+"recognitions/checking",c).catch((function(t){return console.log("In ViewRecognition/updateCheckingRecognition - "+t)}));case 6:if((s=n.sent).data.errors){n.next=13;break}return r("setUikListBySelectCamera",[]),r("setRecognitionListByCheckBoxes",[]),n.abrupt("return",s);case 13:return n.abrupt("return",{errors:Object.values(s.data.errors).map((function(t){return t[0]}))});case 14:case"end":return n.stop()}}),n)})))()}},mutations:{setUikList:function(t,e){return t.uikList=e},setRegionList:function(t,e){return t.regionList=e},setCountSelectCamera:function(t,e){return t.countSelectCamera=e},setCountCheckBoxes:function(t,e){return t.countCheckBoxes=e},setUikListBySelectCamera:function(t,e){return t.uikListBySelectCamera=e},setRecognitionListByCheckBoxes:function(t,e){return t.recognitionListByCheckBoxes=e},setIsLoading:function(t,e){return t.isLoading=e},setRecognitionIds:function(t,e){return t.recognitionIds=e}},getters:{getUikList:function(t){return t.uikList},getRegionList:function(t){return t.regionList},getCountSelectCamera:function(t){return t.countSelectCamera},getCountCheckBoxes:function(t){return t.countCheckBoxes},getUikListBySelectCamera:function(t){return t.uikListBySelectCamera},getRecognitionListByCheckBoxes:function(t){return t.recognitionListByCheckBoxes},getIsLoading:function(t){return t.isLoading},getRecognitionIds:function(t){return t.recognitionIds}}},d={components:{},props:{initialData:{type:Object,required:!1},temp:{},routeName:{type:String,required:!0}},data:function(){return{}},computed:{computedBreadcrumbs:function(){return[{name:"Главная",slug:"/"},{name:"Проверка распознаваний",slug:""}]}},mounted:function(){var t=this;document.body.classList.add("is-blocked"),window.onblur=function(){t.$store.dispatch("ViewRecognition/updateCheckingRecognition")},window.onbeforeunload=function(){t.$store.dispatch("ViewRecognition/updateCheckingRecognition")},document.addEventListener("click",(function(e){"A"===e.target.nodeName&&(t.$store.dispatch("ViewRecognition/updateCheckingRecognition").then((function(n){e.target.href===t.asset("logout")?axios.post(t.asset("logout")).then((function(e){window.location.href=t.asset("login")})):window.location=e.target.href})),e.preventDefault())}))},created:function(){this.$store.registerModule("ViewRecognition",g),this.$store.commit("ViewRecognition/setUikList",this.initialData.uikList),this.$store.commit("ViewRecognition/setRegionList",this.initialData.regionList),this.$store.commit("ViewRecognition/setCountSelectCamera",this.initialData.selectCameraCount),this.$store.commit("ViewRecognition/setCountCheckBoxes",this.initialData.checkBoxesCount)},beforeDestroy:function(){this.$store.unregisterModule("ViewRecognition")}},p=n(0),f=Object(p.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view-layout",{attrs:{breadcrumbs:t.computedBreadcrumbs,"route-name":t.routeName},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Проверка распознаваний")]},proxy:!0}])},[t._v(" "),n("recognition")],1)}),[],!1,null,null,null);e.default=f.exports}}]);
//# sourceMappingURL=42.chunk.js.map