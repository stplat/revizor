(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{56:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r.n(n),i=r(6),s=r.n(i);function c(t,e,r,n,a,i,s){try{var c=t[i](s),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,a)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function s(t){c(i,n,a,s,u,"next",t)}function u(t){c(i,n,a,s,u,"throw",t)}s(void 0)}))}}var o={namespaced:!0,state:{checkList:[],authTypeList:[]},actions:{createCheck:function(t,e){return u(a.a.mark((function r(){var n,i,c,u,o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(c in n=t.commit,i=new FormData,e)e.hasOwnProperty(c)&&(u=Array.isArray(e[c])?JSON.stringify(e[c]):e[c],i.append(c,u));return r.next=5,s.a.post("/checks",i).catch((function(t){return console.log("In ViewCheckList/createCheck - "+t)}));case 5:if((o=r.sent).data.errors){r.next=11;break}return n("setCheckList",o.data),r.abrupt("return",o.data);case 11:return r.abrupt("return",{errors:Object.values(o.data.errors).map((function(t){return t[0]}))});case 12:case"end":return r.stop()}}),r)})))()},deleteCheck:function(t,e){var r=this;return u(a.a.mark((function n(){var i,c,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.commit,c=e.id,n.next=4,s.a.delete(r.state.requestPath+"/checks/"+c).catch((function(t){return console.log("In ViewCheckList/deleteCheck - "+t)}));case 4:if((u=n.sent).data.errors){n.next=10;break}return i("setCheckList",u.data),n.abrupt("return",u.data);case 10:return n.abrupt("return",{errors:Object.values(u.data.errors).map((function(t){return t[0]}))});case 11:case"end":return n.stop()}}),n)})))()}},mutations:{setCheckList:function(t,e){return t.checkList=e},setAuthTypeList:function(t,e){return t.authTypeList=e}},getters:{getCheckList:function(t){return t.checkList},getAuthTypeList:function(t){return t.authTypeList}}},h={props:{initialData:{type:Object,required:!0},routeName:{type:String,required:!0}},data:function(){return{}},computed:{computedBreadcrumbs:function(){return[{name:"Главная",slug:"/"},{name:"Список проверок"}]}},created:function(){this.$store.registerModule("ViewCheckList",o),this.$store.commit("ViewCheckList/setCheckList",this.initialData.checkList),this.$store.commit("ViewCheckList/setAuthTypeList",this.initialData.authTypeList)},beforeDestroy:function(){this.$store.unregisterModule("ViewCheckList")}},p=r(0),f=Object(p.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view-layout",{attrs:{breadcrumbs:t.computedBreadcrumbs,"route-name":t.routeName},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Список проверок")]},proxy:!0}])},[t._v(" "),r("check-list")],1)}),[],!1,null,null,null);e.default=f.exports}}]);
//# sourceMappingURL=39.chunk.js.map